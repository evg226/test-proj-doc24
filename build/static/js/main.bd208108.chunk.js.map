{"version":3,"sources":["store/actions.js","store/reducers.js","http/catsApi.js","store/sagas.js","store/index.js","store/selectors.js","components/List.js","App.js","index.js"],"names":["FETCH_LIST","requestList","type","requestListSuccess","data","payload","requestListError","error","initialList","loading","queryCats","_ref","Object","asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","wrap","_context","prev","next","axios","get","sent","abrupt","stop","apply","this","arguments","watchFetchList","fetchListAsync","sagas_regeneratorRuntime","takeLatest","_marked","cats","_context3","put","call","_context2","t0","message","_marked2","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","combineReducers","list","state","length","undefined","action","map","item","objectSpread","like","filter","_id","likes","defineProperty","applyMiddleware","run","getList","getlikes","List","_useState","useState","_useState2","slicedToArray","likesFilter","setLikesFilter","dispatch","useDispatch","useSelector","shallowEqual","useEffect","react_default","a","createElement","className","defaultChecked","onChange","i","key","style","display","text","createdAt","onClick","itemId","likeSet","Fragment","listItemRemove","src","App","es","List_List","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.bd208108.chunk.js","sourcesContent":["export const REQUEST_LIST = 'REQUEST_LIST';\nexport const REQUEST_LIST_SUCCESS = 'REQUEST_LIST_SUCCESS';\nexport const REQUEST_LIST_ERROR = 'REQUEST_LIST_ERROR';\nexport const FETCH_LIST = 'FETCH_LIST';\nexport const LIKE_SET = 'LIKE_SET';\nexport const LIST_ITEM_REMOVE = 'LIST_ITEM_REMOVE';\n\nexport const requestList = () => {\n    return {\n        type: REQUEST_LIST,\n    }\n}\n\nexport const requestListSuccess = (data) => {\n    return {\n        type: REQUEST_LIST_SUCCESS,\n        payload: data\n    }\n}\n\nexport const requestListError = (error) => {\n    return {\n        type: REQUEST_LIST_ERROR,\n        payload: error\n    }\n}\n\nexport const fetchList = () => {\n    return {\n        type: FETCH_LIST,\n    }\n}\n\nexport const likeSet = (itemId) => {\n    return {\n        type: LIKE_SET,\n        payload: itemId\n    }\n}\n\nexport const listItemRemove = (itemId) => {\n    return {\n        type: LIST_ITEM_REMOVE,\n        payload: itemId\n    }\n}\n","import {\n    LIKE_SET,\n    LIST_ITEM_REMOVE,\n    REQUEST_LIST,\n    REQUEST_LIST_ERROR,\n    REQUEST_LIST_SUCCESS\n} from \"./actions\";\n\nconst initialList = {\n    loading: false,\n    error: false,\n    data: []\n}\nexport const reducerList = (state = initialList, action) => {\n    switch (action.type) {\n        case(REQUEST_LIST):\n            return {loading: true, error: false, data: []}\n        case(REQUEST_LIST_SUCCESS):\n            const data = action.payload.map(item => {\n                return {...item, like: false}\n            });\n            return {loading: false, error: false, data}\n        case(REQUEST_LIST_ERROR):\n            return {loading: false, error: action.payload, data: []}\n        case(LIST_ITEM_REMOVE):\n            return {\n                ...state,\n                data: state.data.filter(item => item._id !== action.payload)\n            }\n        default:\n            return state\n    }\n}\n\nexport const reducerLikes = (state = {}, action) => {\n    switch (action.type) {\n        case(LIKE_SET):\n            return {\n                ...state,\n                [action.payload]: !state[action.payload]\n            }\n        default:\n            return state\n    }\n}","import axios from \"axios\";\n\nexport const queryCats = async () => {\n    const {data} = await axios.get('https://cat-fact.herokuapp.com/facts');\n    return data;\n}\n","import {takeLatest, put, call} from 'redux-saga/effects';\nimport {FETCH_LIST, requestList, requestListError, requestListSuccess} from \"./actions\";\nimport {queryCats} from \"../http/catsApi\";\n\nexport function* watchFetchList() {\n    yield takeLatest(FETCH_LIST, fetchListAsync)\n}\n\nfunction* fetchListAsync() {\n    yield put(requestList());\n    try {\n        const cats = yield call(async () => {\n            return await queryCats();\n        });\n        yield put(requestListSuccess(cats));\n    } catch (e) {\n        yield put(requestListError(e.message))\n    }\n}","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport createSagaMiddleware from 'redux-saga';\nimport {reducerLikes, reducerList} from \"./reducers\";\nimport {watchFetchList} from \"./sagas\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst sagaMiddleware = createSagaMiddleware();\n\nexport const store = createStore(\n    combineReducers({\n        list: reducerList,\n        likes:reducerLikes,\n    }),\n    composeEnhancers(applyMiddleware(\n        sagaMiddleware\n    ))\n);\nsagaMiddleware.run(watchFetchList);","export const getList = state => state.list;\nexport const getlikes = state => state.likes;","import React, {useEffect, useState} from \"react\";\nimport {shallowEqual, useDispatch, useSelector} from \"react-redux\";\nimport {fetchList, listItemRemove, likeSet} from \"../store/actions\";\nimport {getlikes, getList} from \"../store/selectors\";\nimport './List.css';\n\n\nexport const List = () => {\n    const [likesFilter, setLikesFilter] = useState(false);\n    const dispatch = useDispatch();\n    const list = useSelector(getList, shallowEqual);\n    const likes = useSelector(getlikes, shallowEqual);\n\n    useEffect(() => {\n        dispatch(fetchList());\n    }, [])\n\n    const handleChangeLikesFilter = () => {\n        setLikesFilter(!likesFilter);\n    }\n\n    const handleClickLike = (itemId) => {\n        dispatch(likeSet(itemId));\n    }\n\n    const handleClickDelIcon = (itemId) => {\n        dispatch(listItemRemove(itemId));\n    }\n\n\n    return (\n        <div>\n            <h4>Список</h4>\n            <label className={\"likes-filter\"}>\n                <input type=\"checkbox\"\n                       defaultChecked={likesFilter}\n                       onChange={handleChangeLikesFilter}\n                />\n                только лайковые\n            </label>\n            <div className={'list__container'}>\n                {\n                    list.loading ?\n                        <h6>Список грузится...</h6>\n                        :\n                        list.error ?\n                            <h6>{list.error}</h6>\n                            :\n                            list.data.length && list.data.map((item, i) =>\n                                <div key={i}\n                                     className={\"list_item\"}\n                                     style={{\n                                         display:\n                                             likesFilter ?\n                                                 likes[item._id] ? \"flex\" : \"none\"\n                                                 : \"flex\"\n                                     }}>\n                                    <p>{item.text}</p>\n                                    <small>{item.createdAt}</small>\n                                    <div className={'icons'}>\n                                        <p\n                                            className={'like_button'}\n                                            onClick={() => handleClickLike(item._id)}\n                                        >\n                                            {likes[item._id] ? <>&#128147;</> : <>&#9825;</>}\n                                        </p>\n                                        <p className={'icon-del'}\n                                           onClick={()=>handleClickDelIcon(item._id)}\n                                        >\n                                            <img src={'img/recycle.png'}/>\n                                        </p>\n                                    </div>\n                                </div>\n                            )\n                }\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport './App.css';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store\";\nimport {List} from \"./components/List\";\n\nfunction App() {\n    return (\n        <Provider store={store}>\n            <div className=\"App\">\n                <h1>Welcome to app</h1>\n                <List />\n            </div>\n        </Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n\n"],"sourceRoot":""}